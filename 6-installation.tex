\section{Installation}\label{Installation}

In order to simplify the installation of the \gls{lfl} system, an automated installation script was created. The script called lfl-install is located in the /usr/bin directory. Initially the script makes use of the parted system utility to access the hard drive located under /dev/sda. It creates a \gls{gpt} partition table and a single primary partition that takes up the entirely of the hard drive. In order to be discoverable by extlinux the legacy\_boot flag is set on this partition and the ext2 filesystem is created. Next the \gls{iso} image (/dev/sr0) and the created ext2 partition (/dev/sda1) are mounted under the newly created /mnt/iso and /mnt/root directories respectively. The compressed root filesystem (/mnt/iso/rootfs.gz) is extracted into the ext2 partition. The /mnt/root/boot/extlinux directory is created and the extlinux bootloader is installed. Next the kernel (/mnt/iso/kernel.gz) is copied over to the extlinux installation directory. A simple syslinux configuration file is created, containing the name and location of the kernel and root directory. Finally the extlinux bootstrap code (/usr/share/syslinux/gptmbr.bin) is installed to the hard drive \gls{mbr}.
